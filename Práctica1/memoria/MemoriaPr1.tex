\documentclass[12pt]{article}

\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[spanish,activeacute]{babel}
\usepackage[utf8]{inputenc}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage[hidelinks]{hyperref}
\usepackage{anysize}
\usepackage{listings}
\usepackage{float}
\usepackage{hyperref}

\marginsize{2cm}{2cm}{2cm}{2cm}

\lstset{ %
escapeinside=||,
language=python,
basicstyle=\small}

\title{Metaheur\'isticas:\\
 Pr\'actica 1.b: B\'usquedas por Trayectorias para el Problema de la Selecci\'on de Caracter\'isticas}
\author{Anabel G\'omez R\'ios.\\
 DNI: 75929914Z.\\
 E-mail: anabelgrios@correo.ugr.es}


\begin{document}
\maketitle

\begin{center}
Curso 2015-2016\\

Problema de Selección de Características.\\ 

Grupo de prácticas: Viernes 17:30-19:30\\

Quinto curso del Doble Grado en Ingeniería Informática y Matemáticas.\\
\textit{ }\\
\end{center}

Algoritmos considerados:
\begin{enumerate}
\item Greedy Sequential Forward Selection.
\item Búsqueda Local.
\item Enfriamiento Simulado.
\item Búsqueda Tabú Básica.
\begin{enumerate}
\item Búsqueda Tabú Básica Modificada
\end{enumerate}
\item Búsqueda Tabú Extendida.
\end{enumerate}

\newpage

\tableofcontents

\newpage

\section{Descripción del problema}
Queremos obtener un sistema que permita clasificar un conjunto de objetos en unas determinadas clases que conocemos previamente. Para ello disponemos de una muestra de dichos objetos ya clasificados y una serie de características para cada objeto.\\

El problema es, por tanto, construir un clasificador que se comporte lo suficientemente bien fuera de la muestra de la que disponemos, es decir, que clasifique bien nuevos datos. Para hacer esto, lo que hacemos es particionar la muestra en dos subconjuntos, uno que utilizaremos de entrenamiento para que el clasificador aprenda y otro que utilizaremos para test, es decir, para ver cómo de bien se comporta el clasificador que hemos obtenido con el primer subconjunto fuera de los datos de entrenamiento. Además haremos distintas particiones, en concreto 5, y construiremos un clasificador para cada una de ellas. Podemos comprobar cómo de bien se comporta cada clasificador porque sabemos en realidad las clases de los objetos que tenemos en la muestra y podemos comparar las verdaderas clases con las que el clasificador obtiene suponiendo que no dispusiéramos de ellas.\\
Buscamos pues en todo momento optimizar la tasa de acierto del clasificador.\\
Vamos a utilizar además validación cruzada: es decir, para cada partición en dos subconjuntos primero uno será el de entrenamiento y el otro el de test y después les daremos la vuelta y volveremos a construir un clasificador. La calidad por tanto de cada algoritmo será la media de los porcentajes de clasificación (la tasa de acierto) para estas 10 particiones.\\

Nos queda describir cómo aprende el clasificador con los datos de entrenamiento. Ya que podemos llegar a tener muchas características de las cuales algunas podrían ser poco o nada significantes, lo que hacemos es elegir un subconjunto de características que describan bien los datos de entrenamiento, de forma que en los datos de test sólo tenemos en cuenta este subconjunto de características a la hora de deducir cuál es la clase de cada nuevo dato. Para esta "deducción" vamos a utilizar la técnica de los 3 vecinos más cercanos (3-NN): buscamos para cada dato los tres vecinos más cercanos en el conjunto de entrenamiento (si el mismo dato al que le vamos a calcular la clase pertenece al conjunto de entrenamiento tenemos que sacarlo previamente del conjunto de entrenamiento. Esto es lo que se llama \textit{leave one out}) teniendo en cuenta las características seleccionadas hasta el momento, consultamos las clases de estos tres vecinos, nos quedamos con la clase que más veces aparezca (o, en caso de empate, con la clase del vecino más cercano)y ésta será la clase del dato. Para obtener la tasa de acierto lo que hacemos es repetir esto para todos los datos, comparar estas clases con las reales y contar el número de veces que acierta.\\

El cómo exploramos el espacio de búsqueda hasta encontrar la mejor solución (el subconjunto de características óptimo, aquel que da mayor tasa de acierto) es en lo que se diferencian los distintos algoritmos que vamos a ver en esta práctica.

\newpage

\section{Descripción de la aplicación de los algoritmos empleados al problema}
El primer paso común a todos los algoritmos es normalizar los datos de los que disponemos por columnas (es decir, por características) de forma que todas se queden entre 0 y 1 y no haya así preferencias de unas sobre otras.\\

A continuación se genera una solución inicial, que estará en todos los casos (menos en el algoritmo greedy, que se empieza desde cero) generada aleatoriamente y se irán generando vecinos de esta solución (o se darán saltos, como ya veremos) y nos quedaremos con la mejor solución obtenida en todos los casos.\\

Todos los algoritmos tienen una condición de parada común, que es llegar a un número máximo de evaluaciones: 15000.

\subsection{Representación de soluciones}
La representación elegida para las soluciones ha sido la binaria: un vector de $N$ posiciones, donde $N$ es el número de características, en el que aparece \textit{True} o \textit{False} en la posición $i$ según si la característica $i$-ésima ha sido seleccionada o no, respectivamente. Esta representación es la más sencilla y cómoda cuando no hay restricciones sobre el número de características a elegir, es decir, el número de características que se han de elegir lo aprende cada algoritmo, como es el caso de los algoritmos que vamos a utilzar.

\subsection{3-NN}
Como hemos comentado, la técnica para clasificar que vamos a utilizar en todos los algoritmos será el 3NN. Consiste en considerar, para cada dato, la distancia euclídea entre el dato y todos los demás (excluyéndose él mismo en caso de que estuviéramos preguntando por algún dato dentro del conjunto de entrenamiento) y quedarnos con las clases de los 3 con la distancia más pequeña. La clase del dato en cuestión será de estas tres la que más se repita o, en caso de empate, la clase que corresponda al vecino más cercano.\\
En cada momento la distancia euclídea se calcula teniendo en cuenta las características que están seleccionadas en el momento, por lo que no podemos tener una matriz fija de distancias, hay que ir calculándolas sobre la marcha.

\subsection{Función de evaluación}
La función de evaluación será el rendimiento promedio de un clasificador 3-NN en el conjunto de entrenamiento: calcularemos la tasa para cada dato dentro del conjunto de entrenamiento haciendo el leave one out descrito anteriormente y nos quedaremos con la media de las tasas obtenidas. El objetivo será por tanto maximizar esta función.
La tasa se calcula como 100*(nº instancias bien clasificadas / nº total de instancias).\\

El pseudo-código es el siguiente:\\
\begin{lstlisting}
Obtener el subconjunto de entrenamiento que se va a tener en cuenta seg|ú|n 
las caracter|í|sticas que se est|é|n considerando.
Para cada dato:
   Se saca del conjunto de entrenamiento (leave one out)
   Se obtiene el clasificador 3NN
   Se calcula la tasa para este dato
   Se acumula la tasa al resto de tasas
Se divide la acumulaci|ó|n de tasas entre el cardinal del conjunto y se devuelve
\end{lstlisting}
La función que hace esto la llamaremos \texttt{CalcularTasa(conjunto, caracteristicas)} donde caracteristicas es la máscara que nos indica cuáles estamos considerando (aquellas que estén a True).\\

En mi caso el clasificador 3-NN lo he utilizado de un módulo de python, como está descrito en la sección 7, porque el que había hecho yo era mucho menos eficiente (tardaba 6-7 minutos para una partición con el algoritmo greedy para la base de datos wdbc).

\subsection{Operadores comunes: Generación de vecinos}
Se considerarán como vecinas todas aquellas soluciones que difieran en la pertenencia o no de una única característica (si se diferencian en más de una entonces no es vecina de la considerada). Por ejemplo, las soluciones (True, True, False) y (True, False, False) son vecinas porque se diferencian en una sola característica, la segunda.\\
\texttt{Flip} será el operador de vecino: recibe un vector que será la máscara y una posición y cambia esa posición en la máscara. El que he hecho yo además lo hace por referencia para evitar las copias e intentar mejorar en eficiencia.\\

\begin{lstlisting}
Flip(mascara, pos) Empezar:
   # Cambiar la posici|ó|n pos de la m|á|scara por su negado 
   mascara[pos] = not mascara[pos]
   Devolver mascara
Fin
\end{lstlisting}

\newpage

\section{Descripción de los algoritmos}

\subsection{Búsqueda Local}
El algoritmo de búsqueda local implementado ha sido el del primer mejor, es decir, exploramos los vecinos de la solución que tenemos en cada momento y en cuanto obtenemos una mejor nos quedamos con ella y empezamos a generar sus vecinos. Los vecinos se empiezan a generar por una característica aleatoria y a partir de esa característica se van cambiando las demás de forma cíclica en orden: desde la que hemos empezado hasta el final y de nuevo por el principio hasta llegar a la anterior de la primera que habíamos cambiado. Si no nos quedamos con la solución tenemos que dejar la característica que habíamos cambiado como estaba y si nos la quedamos porque tiene una mejor tasa dejamos de generar vecinos de la solución que teníamos, la cambiamos por este mejor vecino y pasamos a generar vecinos de la nueva solución. El algoritmo para cuando da una pasada entera a los vecinos y no ha encontrado una mejor solución que la que tenía.\\

Veamos el pseudocódigo.\\
\texttt{generarSecuencia(tamaño)} será la función que devuelve el orden en el que se recorrerá el vecindario: empieza desde un número aleatorio (menor que el número de características) y de ahí en orden hasta el total de características y empieza de nuevo hasta el número que se ha generado al principio. Esta función se llamará cada vez que actualicemos la solución y haya que explorar un vecindario nuevo.\\
Al algoritmo le pasamos como parámetros los datos de entrenamiento y las clases de los datos.
\begin{lstlisting}
busquedaLocal(datos, clases) Empezar:
   caract = soluci|ó|n aleatoria inicial
   tasa actual = calcularTasa(datos, caract)
   
   while haya mejora en el vecindario y haya menos de 15000 evaluaciones
    hacer:
      
      posiciones = generarSecuencia(tam(caract))
      for j en posiciones:
         Flip(caract, j)  # Generamos vecino
         calcularTasa(caract)
         if la tasa del vecino es mejor que la actual:
            actualizamos la tasa actual
            vuelta_completa = False # hemos encontrado mejora antes de
             # generar todos los vecinos
            break, salimos del bucle interior y empezamos a 
             generar vecinos de la nueva soluci|ó|n
         
         else, volvemos a la antigua soluci|ó|n:
            Flip(caract, j)
            
         if vuelta_completa:
            no ha habido mejora en el vecindario, break
         else:
            vuelta_completa = True
         
         if hemos superado el numero de evaluaciones
            break y salimos del bucle interior
      Fin for
   
   Fin while
   
   Devuelve caract y tasa actual
Fin
   
\end{lstlisting}

\subsection{Enfriamiento Simulado}
El esquema de enfriamiento que he utilizado ha sido el esquema de Cauchy modificado, en el que la temperatura inicial y la modificación en cada iteración del algoritmo se realiza de la siguiente forma:
\begin{lstlisting}
Tf = 0.001, fi = 0.3, mu = 0.3
Tini = (mu*tasa_inicial)/(-np.log(fi))
beta = (Tini - Tf)/(M*Tini*Tf) #M depende del n|ú|mero de vecinos a generar 
   			       #y del n|ú|mero de evaluaciones
Tk = Tk/(1+beta*Tk) 	#Al final del bucle de enfriamiento
max vecinos = 10n (n num caracter|í|sticas
max exitos = n
M = 15000/max vecinos
\end{lstlisting}

El algoritmo de enfriamiento simulado intenta mejorar el problema de la búsqueda local de quedarse en el primer óptimo local que encuentra, aceptando para ello soluciones que pueden ser peores que la actual bajo algunas circunstancias, en concreto, la temperatura. Al iniciar el algoritmo la temperatura es más alta y se va reduciendo con las iteraciones: la idea es aceptar más soluciones peores que la actual cuanto mayor es la temperatura, es decir, al inicio del algoritmo, e ir aceptando menos progresivamente según la temperatura va bajando. Devolvemos la mejor solución encontrada en general a lo largo del algoritmo. Necesitamos para ello guardar la mejor solución junto con su tasa y la solución actual junto con su tasa.\\
En cada enfriamiento generamos vecinos hasta un máximo de forma aleatoria y nos la quedamos si es mejor que la actual o supera la probabilidad de aceptar una solución peor.\\

Con esto, el pseudocódigo es el siguiente:
\begin{lstlisting}
enfriamientoSimulado(datos, clases) Empezar:
   caract = soluci|ó|n aleatoria inicial
   mejor solucion = caract
   mejor tasa = calcularTasa(datos, caract)
   Se calculan los par|á|metros para la temperatura y los vecinos totales

   while haya |é|xitos en el enfriamiento actual y Tk>Tf y haya menos de 15000 evals:
      while no se haya generado el m|á|ximo de vecinos ni se sobrepasen los |é|xitos:
         pos = num aleatorio entre 0 y n #n num de caracter|í|sticas
         caract = Flip(caract, pos)
         nueva tasa = calcularTasa(datos, caract)
         Se aumenta num vecinos y num evaluaciones
         delta = nueva tasa - tasa actual
         if delta!=0 y (delta>0 o U(0,1)<=exp(delta/Tk)):
            #Se ha aceptado el vecino
            Se actualiza la tasa actual
            Se aumenta el n|ú|mero de |é|xitos
            if tasa actual > mejor tasa:
               Se actualizan la mejor soluci|ó|n y la mejor tasa
      
         else:
            #No se ha aceptado el vecino, volvemos a la soluci|ó|n anterior
            Flip(caract, pos)
         
         Se comprueba si hemos pasado el n|ú|mero de evaluaciones
      Fin while
   
      Se comprueba si ha habido |é|xitos en este enfriamiento
      Ponemos el n|ú|mero de |é|xitos a 0
      Ponemos el n|ú|mero de vecinos a 0
      
      Tk = Tk/(1+beta*Tk) #Actualizamos temperatura
   Fin while
      
   Devolvemos mejor soluci|ó|n y mejor tasa
Fin
\end{lstlisting}

$U(0,1)$ es un número aleatorio extraído de la distribución uniforme en el intervalo $[0,1]$.\\

He tenido que poner como condición adicional en el \texttt{if} para aceptar una solución que \texttt{delta!=0} porque si las tasas son iguales y la diferencia es cero entonces la exponencial de $delta/Tk$ es siempre 1 al ser delta 0 y un número entre 0 y 1 es siempre menor o igual que 1, con lo que siempre cogía como éxito una solución con la misma tasa, haciendo que el algoritmo tardara mucho más al haber siempre éxitos en el enfriamiento actual, cuando en realidad no se estaba moviendo ni hacia arriba ni hacia abajo.

\subsection{Búsqueda Tabú Básica}
En la búsqueda tabú también buscamos salir de óptimos locales con unos mecanismos distintos a los del enfriamiento simulado. En este caso vamos a tener almacenada una lista tabú que nos guarda las posiciones de las características que hemos cambiado en los $n/3$ movimientos anteriores, donde $n$ es el número de características.  La lista tiene por tanto $n/3$ posiciones y está implementada como una lista circular, de forma que tenemos un índice marcando la última posición modificada y el siguiente a ese índice módulo $n/3$ es el próximo que tenemos que modificar. Se guardan estas posiciones para que no se pueda volver a cambiar una característica en esas posiciones durante el tiempo que permanecen en la lista tabú para no volver hacia soluciones que habíamos considerado peores, a no ser que modificar una característica en la lista tabú mejore a la mejor solución que tenemos en ese momento (criterio de aspiración). El método de búsqueda en este caso es la generación de 30 vecinos aleatorios de la solución actual (sin repetición) y quedarnos con el mejor de ellos, sea mejor o no que el que teníamos actualmente. Guardamos siempre la mejor solución por la que hemos pasado, que será la que se devolverá.\\
Con esto, el pseudocódigo es el siguiente:

\begin{lstlisting}
busquedaTabu(datos, clases) Empezar:
   caract = soluci|ó|n aleatoria inicial
   mejor tasa = calcularTasa(datos, caract)
   mejor soluci|ó|n = copiar(caract)
   lista tab|ú| = vector de longitud n/3 inicializado a -1
   plista = -1		#indica la |ú|ltima posici|ó|n modificada en la lista

   while num evaluaciones < 15000:
      tasa actual = 0
      mejor pos = -1
      posiciones = 30 vecinos generados aleatoriamente sin repetici|ó|n
      
      for j en posiciones:
         caract = Flip(caract, j) 	#Generamos vecino
         nueva tasa = calcularTasa(datos, caract)
         Se aumenta el n|ú|mero de evaluaciones
         
         if j esta en la lista tab|ú|:
            if nueva tasa > mejor tasa y nueva tasa > tasa actual:
               Se actualiza la tasa actual con la nueva
               Se cambia j como mejor posici|ó|n
         elif nueva tasa > tasa actual:
            Se actualiza la tasa actual con la nueva
            Se cambia j como mejor posici|ó|n
            
         # Volvemos a la soluci|ó|n que ten|í|amos para seguir generando vecinos
         caract = Flip(datos, caract)
      Fin for
      
      # Nos quedamos con el mejor vecino
      caract = Flip(caract, mejor pos)
      plista = (plista+1)mod(n/3)
      lista tabu[plista] = mejor pos
   
      if tasa actual > mejor tasa:
         Se actualiza la mejor tasa y la mejor soluci|ó|n.

   Fin while
   Devuelve mejor soluci|ó|n y mejor pos
Fin

\end{lstlisting}

\subsubsection{Búsqueda Tabú Básica Modificada}
Haciendo pruebas me di cuenta de que la búsqueda tabú avanza muy lentamente hacia la mejor solución, y como tarda tanto porque siempre llega las 15000 evaluaciones aunque no haya mejora en las soluciones aceptadas, he pensado en una modificación que podría bajar los tiempos sin bajar mucho la tasa de acierto. Consiste en si no hay una diferencia (en valor absoluto) entre dos tasas de 3 (es decir, del 3\%) en 30 iteraciones (que sería que no hubiera diferencia en 600 evaluaciones) entonces paro el algoritmo. Es decir, cogemos una tasa, y si la diferencia entre esa tasa y la tasa de los 30 siguientes mejores vecinos no supera 3, entonces paro, y si en algún momento sí se supera esa diferencia entonces actualizo la tasa con la que voy a hacer la comparación con las siguientes tasas.\\
El pseudocódigo sería el siguiente (es todo igual excepto una comprobación al final del bucle):
\begin{lstlisting}
busquedaTabu(datos, clases) Empezar:
   ... (igual que antes)

   while num evaluaciones < 15000 y haya mejora:
      ... (igual que antes)
      
      for j en posiciones:
         ... (igual que antes)
      Fin for
 
      # Nos quedamos con el mejor vecino
      caract = Flip(caract, mejor pos)
      plista = (plista+1)mod(n/3)
      lista tabu[plista] = mejor pos
   
      if tasa actual > mejor tasa:
         Se actualiza la mejor tasa y la mejor soluci|ó|n.
      
      if valorAbs(tasa mejora - mejor tasa) < 3:
         num no mejora++ #Aumentamos el n|ú|mero de iteraciones sin cambio
         if num no mejora > 30):
            mejora = False
         else:
            tasa mejora = mejor tasa
            num no mejora = 0

   Fin while
   Devuelve mejor soluci|ó|n y mejor pos
Fin
\end{lstlisting}

Este cambio está hecho en el mismo fichero que la búsqueda tabú simple sin modificar y se encuentra comentado por defecto: habría que descomentarlo para probarlo.

\subsection{Búsqueda Tabú Extendida}
La búsqueda tabú extendida utiliza el mismo mecanismo de memoria a corto plazo que la tabú sencilla, la lista tabú, aunque le iremos cambiando el tamaño. Incorpora además una memoria a largo plazo en la que se guarda el número de veces que se selecciona una característica para obtener la frecuencia de cada característica y si en algún momento se llega a 10 iteraciones sin mejora en la mejor solución, se reinicializa la búsqueda desde una nueva solución que tendrá probabilidad 0.25 de ser aleatoria, probabilidad 0.25 de ser la mejor solución y probabilidad 0.5 de ser generada de forma aleatoria utilizando el vector de frecuencias.\\

El pseudocódigo es el mismo que el de la búsqueda tabú sencilla con una modificación al final:

\begin{lstlisting}
busquedaTabuExtendida(datos, clases) Empezar:
   ... (igual que antes)
   frec = vector de frecuencias de longitud n (num caracter|í|sticas)
    inicializado a cero

   while num evaluaciones < 15000:
      ... (igual que antes)
      for j en posiciones:
         ... (igual que antes)
      Fin for
   
      # Nos quedamos con el mejor vecino
      caract = Flip(caract, mejor pos)
      plista = (plista+1)mod(n/3)
      lista tabu[plista] = mejor pos
      Se aumenta frec[mejor pos] en 1   
   
      if tasa actual > mejor tasa:
         Se actualiza la mejor tasa y la mejor soluci|ó|n.
         no_mejora = 0
      else:
         no_mejora += 1
   
      if no_mejora llega a 10:
         no_mejora = 0
         Se elige un numero entre 3 en el que los dos primeros tienen
          probabilidad 0.25 de aparecer y el tercero tiene 0.5
             if sale el primero:
                caract = soluci|ó|n aleatoria
             elif sale el segundo:
                caract = mejor soluci|ó|n
             else:
                u = n|ú|mero uniforme entre 0 y 1
                for i de 0 hasta n:
                    if u < 1 - frec[i]:
                       se pone la caracter|í|stica i a True
                    else
                       se pone a False
         u = n|ú|mero uniforme entre 0 y 1
         if u < 0.5
            Se aumenta al doble la lista tab|ú|
         else:
            Se disminuye a la mitad la lista tab|ú|

   Fin while
   
   Devuelve mejor soluci|ó|n y mejor pos
Fin

\end{lstlisting}

\newpage

\section{Breve descripción del algoritmo de comparación}
El algoritmo de comparación seleccionado ha sido el greedy Sequential Forward Selection (SFS), que parte de una solución inicial en la que no hay ninguna característica seleccionada y se va quedando en cada iteración con la característica con la que se obtiene la mejor tasa. El algoritmo no para mientras se encuentre mejora añadiendo alguna característica.\\
He implementado una función que me devuelve, para una máscara determinada, la característica más prometedora que se puede obtener, cuyo pseudocódigo es el siguiente:
\begin{lstlisting}
caractMasPrometedora(mascara) Empezar:
   posiciones = posiciones que no est|é|n seleccionadas de la mascara
   for i en posiciones:
      mascara[i] = True
      Se calcula la tasa con la nueva caracter|í|stica a|ñ|adida
      if nueva tasa > mejor tasa:
         Se actualiza la mejor tasa
         Se actualiza la mejor posici|ó|n
      Fin for
   Devuelve mejor tasa y mejor pos
Fin
\end{lstlisting}

Con esto, el pseudocódigo del algoritmo SFS es:
\begin{lstlisting}
algoritmoSFS(datos, clases) Empezar:
   caract = soluci|ó|n inicial inicializada a False
   tasa actual = 0
   mejora = True
   while haya mejora:
      Se calcula la tasa y la mejor posici|ó|n con caractMasPrometedora
      if nueva tasa > tasa actual:
         Se actualiza la tasa actual
         Se pone a True la caracter|í|stica en mejor posici|ó|n
      else:
         mejora = False		#No ha habido mejora: paramos
      
   Fin while
   Devuelve caract y tasa
Fin

\end{lstlisting}

\newpage

\section{Procedimiento considerado para desarrollar la práctica}
La práctica la he desarrollado en python junto con tres módulos de python: numpy, scipy y sklearn (de scikit) (todos disponibles en Linux pero hay que instalarlos previamente). Numpy permite manejar arrays de forma más rápida, scipy leer ficheros en formato arff y sklearn contiene el knn y cross-validation para hacer leave one out. El resto de la práctica lo he hecho yo. Para generar números aleatorios utilizo el \texttt{random} de numpy (al que le paso previamente la semilla) y para medir tiempos \texttt{time} de python.\\

Para hacer las particiones igualadas lo que he hecho ha sido quedarme, para cada clase, con los índices de los datos pertenecientes a esa clase, hacerles una permutación aleatoria, partir por la mitad y quedarme con la primera mitad para entrenamiento y la segunda mitad para test.\\

Para ejecutar la práctica es necesario que los ficheros de datos estén en el mismo directorio en el que se encuentran los ficheros .py y ejecutar desde línea de comandos \texttt{practica1.py semilla base\_de\_datos algoritmo} donde \texttt{base\_de\_datos} será 1 si se quiere ejecutar con wdbc, 2 con movement libras y 3 con arritmia y \texttt{algoritmo} será 1 si se quiere ejecutar SFS, 2 para BL, 3 para ES, 4 para BT, 5 para BTE y 6 para KNN.

\newpage

\section{Experimentos y análisis de resultados}
\subsection{Descripción de los casos del problema empleados}

Los parámetros de los algoritmos, como los del enfriamiento simulado o el tope de evaluaciones a realizar, lo he dejado como se recomendaba en el guión de prácticas.\\
Las particiones que se hacen dependen de la semilla que se le pase al generador de números aleatorios de numpy, así como las soluciones iniciales que se generan y todo lo relativo a probabilidades. La semilla, como ya he comentado, se le pasa al programa por línea de comandos y es el único parámetro que he cambiado de una base de datos a otra. Para todos los algoritmos, el primer par de particiones (que en realidad es la misma partición pero primero se utiliza una mitad para entrenamiento y la otra para test y después al revés) lo he generado con la semilla 567891234, el segundo par está generado con la semilla 123456789, el tercer par con 11235813, el cuarto par con 27182818 y el quinto par con 1414213, de forma que entre los distintos algoritmos las particiones utilizadas han sido las mismas para poder comparar resultados entre unos y otros.

\subsection{Resultados}

Para cada algoritmo se está midiendo el tiempo, en segundos, que tarda en encontrar el subconjunto de características óptimo. Para el caso del 3NN, como lo estamos lanzando con una máscara entera a True, este tiempo el 0, al igual que la tasa de reducción.

\begin{table}[H]
\centering
\caption{Resultados SFS}
\label{Resultados SFS}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
              &                                                                               & Wdbc                                                                         &                              &         &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &          &                                                                               & Arrhythmia                                                                   &                              &          \\ \cline{2-13} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)   & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)    & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)    \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{98,9437}                                                  & \multicolumn{1}{c|}{93,3333}                                                 & \multicolumn{1}{c|}{83,3333} & 47,7583 & \multicolumn{1}{c|}{65,5556}                                                  & \multicolumn{1}{c|}{64,4444}                                                 & \multicolumn{1}{c|}{92,2222} & 128,1156 & \multicolumn{1}{c|}{81,7708}                                                  & \multicolumn{1}{c|}{70,1031}                                                 & \multicolumn{1}{c|}{97,1223} & 474,7185 \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{95,7895}                                                  & \multicolumn{1}{c|}{94,0141}                                                 & \multicolumn{1}{c|}{83,3333} & 47,5713 & \multicolumn{1}{c|}{73,8889}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{91,1111} & 141,5071 & \multicolumn{1}{c|}{80,9278}                                                  & \multicolumn{1}{c|}{78,6458}                                                 & \multicolumn{1}{c|}{97,1223} & 474,0171 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{95,4225}                                                  & \multicolumn{1}{c|}{93,3333}                                                 & \multicolumn{1}{c|}{90,0000} & 32,6485 & \multicolumn{1}{c|}{70,0000}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{91,1111} & 141,5607 & \multicolumn{1}{c|}{78,6458}                                                  & \multicolumn{1}{c|}{70,1031}                                                 & \multicolumn{1}{c|}{97,4820} & 417,5319 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{97,5439}                                                  & \multicolumn{1}{c|}{94,3662}                                                 & \multicolumn{1}{c|}{90,0000} & 32,8499 & \multicolumn{1}{c|}{67,2222}                                                  & \multicolumn{1}{c|}{66,1111}                                                 & \multicolumn{1}{c|}{93,3333} & 110,7466 & \multicolumn{1}{c|}{85,0515}                                                  & \multicolumn{1}{c|}{70,8333}                                                 & \multicolumn{1}{c|}{96,4029} & 582,5531 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{97,8873}                                                  & \multicolumn{1}{c|}{96,4912}                                                 & \multicolumn{1}{c|}{76,6667} & 61,5079 & \multicolumn{1}{c|}{71,1111}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{90,0000} & 159,5794 & \multicolumn{1}{c|}{75,0000}                                                  & \multicolumn{1}{c|}{69,0722}                                                 & \multicolumn{1}{c|}{98,9209} & 209,9304 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{97,5439}                                                  & \multicolumn{1}{c|}{93,6620}                                                 & \multicolumn{1}{c|}{86,6667} & 40,9398 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{92,2222} & 127,1383 & \multicolumn{1}{c|}{78,8660}                                                  & \multicolumn{1}{c|}{71,3542}                                                 & \multicolumn{1}{c|}{97,8417} & 365,9823 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{96,8310}                                                  & \multicolumn{1}{c|}{97,8947}                                                 & \multicolumn{1}{c|}{86,6667} & 39,8884 & \multicolumn{1}{c|}{67,7778}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{92,2222} & 128,9092 & \multicolumn{1}{c|}{82,8125}                                                  & \multicolumn{1}{c|}{73,7113}                                                 & \multicolumn{1}{c|}{96,7626} & 526,7995 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{97,5439}                                                  & \multicolumn{1}{c|}{95,4225}                                                 & \multicolumn{1}{c|}{83,3333} & 46,9100 & \multicolumn{1}{c|}{78,3333}                                                  & \multicolumn{1}{c|}{62,2222}                                                 & \multicolumn{1}{c|}{90,0000} & 157,2638 & \multicolumn{1}{c|}{85,0515}                                                  & \multicolumn{1}{c|}{73,4375}                                                 & \multicolumn{1}{c|}{96,0432} & 632,3626 \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{97,5352}                                                  & \multicolumn{1}{c|}{95,7895}                                                 & \multicolumn{1}{c|}{90,0000} & 32,3780 & \multicolumn{1}{c|}{80,0000}                                                  & \multicolumn{1}{c|}{62,2222}                                                 & \multicolumn{1}{c|}{86,6667} & 204,0013 & \multicolumn{1}{c|}{82,2917}                                                  & \multicolumn{1}{c|}{68,0412}                                                 & \multicolumn{1}{c|}{97,4820} & 424,4544 \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{96,1404}                                                  & \multicolumn{1}{c|}{94,7183}                                                 & \multicolumn{1}{c|}{83,3333} & 47,9195 & \multicolumn{1}{c|}{77,7778}                                                  & \multicolumn{1}{c|}{68,8889}                                                 & \multicolumn{1}{c|}{90,0000} & 159,4742 & \multicolumn{1}{c|}{78,8660}                                                  & \multicolumn{1}{c|}{72,3958}                                                 & \multicolumn{1}{c|}{97,1223} & 485,9460 \\ \hline
Media         & \multicolumn{1}{c|}{97,1181}                                                  & \multicolumn{1}{c|}{94,9025}                                                 & \multicolumn{1}{c|}{85,3333} & 43,0372 & \multicolumn{1}{c|}{71,8333}                                                  & \multicolumn{1}{c|}{67,5000}                                                 & \multicolumn{1}{c|}{90,8889} & 145,8296 & \multicolumn{1}{c|}{80,9284}                                                  & \multicolumn{1}{c|}{71,7698}                                                 & \multicolumn{1}{c|}{97,2302} & 459,4296 \\ \hline
\end{tabular}}
\end{table}

\begin{table}[H]
\centering
\caption{Resultados BL}
\label{Resultados BL}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
              &                                                                               & Wdbc                                                                         &                              &         &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &         &                                                                               & Arrhythmia                                                                   &                              &         \\ \cline{2-13} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)   & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)   & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)   \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{97,5352}                                                  & \multicolumn{1}{c|}{93,6842}                                                 & \multicolumn{1}{c|}{46,6667} & 3,7190  & \multicolumn{1}{c|}{62,2222}                                                  & \multicolumn{1}{c|}{69,4444}                                                 & \multicolumn{1}{c|}{52,2222} & 8,8476  & \multicolumn{1}{c|}{68,2292}                                                  & \multicolumn{1}{c|}{63,4021}                                                 & \multicolumn{1}{c|}{50,3597} & 9,8135  \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{94,3860}                                                  & \multicolumn{1}{c|}{95,4225}                                                 & \multicolumn{1}{c|}{46,6667} & 1,2674  & \multicolumn{1}{c|}{69,4444}                                                  & \multicolumn{1}{c|}{76,1111}                                                 & \multicolumn{1}{c|}{46,6667} & 12,3067 & \multicolumn{1}{c|}{67,0103}                                                  & \multicolumn{1}{c|}{63,5417}                                                 & \multicolumn{1}{c|}{45,3237} & 32,3330 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{95,7746}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{63,3333} & 3,3681  & \multicolumn{1}{c|}{67,7778}                                                  & \multicolumn{1}{c|}{74,4444}                                                 & \multicolumn{1}{c|}{57,7778} & 1,5256  & \multicolumn{1}{c|}{65,6250}                                                  & \multicolumn{1}{c|}{61,3402}                                                 & \multicolumn{1}{c|}{56,1151} & 65,7732 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{96,4912}                                                  & \multicolumn{1}{c|}{92,9577}                                                 & \multicolumn{1}{c|}{46,6667} & 7,1604  & \multicolumn{1}{c|}{65,5556}                                                  & \multicolumn{1}{c|}{65,0000}                                                 & \multicolumn{1}{c|}{56,6667} & 17,8602 & \multicolumn{1}{c|}{68,0412}                                                  & \multicolumn{1}{c|}{64,5833}                                                 & \multicolumn{1}{c|}{46,4029} & 51,7505 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{96,1268}                                                  & \multicolumn{1}{c|}{96,1404}                                                 & \multicolumn{1}{c|}{33,3333} & 11,9843 & \multicolumn{1}{c|}{67,7778}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{56,6667} & 10,5577 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{63,9175}                                                 & \multicolumn{1}{c|}{46,4029} & 32,6144 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{96,4912}                                                  & \multicolumn{1}{c|}{97,1831}                                                 & \multicolumn{1}{c|}{43,3333} & 11,0846 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{50,0000} & 7,8249  & \multicolumn{1}{c|}{67,5258}                                                  & \multicolumn{1}{c|}{65,6250}                                                 & \multicolumn{1}{c|}{52,5180} & 36,3594 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{96,1268}                                                  & \multicolumn{1}{c|}{95,4386}                                                 & \multicolumn{1}{c|}{40,0000} & 5,8840  & \multicolumn{1}{c|}{59,4444}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{53,3333} & 7,8953  & \multicolumn{1}{c|}{67,1875}                                                  & \multicolumn{1}{c|}{62,3711}                                                 & \multicolumn{1}{c|}{43,8849} & 16,5154 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{95,7895}                                                  & \multicolumn{1}{c|}{94,3662}                                                 & \multicolumn{1}{c|}{63,3333} & 10,4619 & \multicolumn{1}{c|}{72,2222}                                                  & \multicolumn{1}{c|}{61,6667}                                                 & \multicolumn{1}{c|}{44,4444} & 7,9087  & \multicolumn{1}{c|}{65,9794}                                                  & \multicolumn{1}{c|}{66,6667}                                                 & \multicolumn{1}{c|}{52,8777} & 4,9554  \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{96,1268}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{46,6667} & 9,4036  & \multicolumn{1}{c|}{71,1111}                                                  & \multicolumn{1}{c|}{67,7778}                                                 & \multicolumn{1}{c|}{53,3333} & 8,5307  & \multicolumn{1}{c|}{65,1042}                                                  & \multicolumn{1}{c|}{64,9485}                                                 & \multicolumn{1}{c|}{48,9209} & 4,5913  \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{97,5439}                                                  & \multicolumn{1}{c|}{95,7746}                                                 & \multicolumn{1}{c|}{50,0000} & 8,3311  & \multicolumn{1}{c|}{71,1111}                                                  & \multicolumn{1}{c|}{68,3333}                                                 & \multicolumn{1}{c|}{51,1111} & 11,8468 & \multicolumn{1}{c|}{63,9175}                                                  & \multicolumn{1}{c|}{63,0208}                                                 & \multicolumn{1}{c|}{46,0432} & 42,4668 \\ \hline
Media         & \multicolumn{1}{c|}{96,2392}                                                  & \multicolumn{1}{c|}{95,4652}                                                 & \multicolumn{1}{c|}{48,0000} & 7,2665  & \multicolumn{1}{c|}{67,3333}                                                  & \multicolumn{1}{c|}{69,3889}                                                 & \multicolumn{1}{c|}{52,2222} & 9,5104  & \multicolumn{1}{c|}{66,5287}                                                  & \multicolumn{1}{c|}{63,9417}                                                 & \multicolumn{1}{c|}{48,8849} & 29,7173 \\ \hline
\end{tabular}}
\end{table}

\begin{table}[H]
\centering
\caption{Resultados ES}
\label{Resultados ES}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
              &                                                                               & Wdbc                                                                         &                              &          &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &          &                                                                               & Arrhythmia                                                                   &                              &           \\ \cline{2-13} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)    & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)    & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{98,9437}                                                  & \multicolumn{1}{c|}{95,0877}                                                 & \multicolumn{1}{c|}{43,3333} & 190,6666 & \multicolumn{1}{c|}{61,1111}                                                  & \multicolumn{1}{c|}{68,3333}                                                 & \multicolumn{1}{c|}{51,1111} & 383,7357 & \multicolumn{1}{c|}{73,9583}                                                  & \multicolumn{1}{c|}{62,3711}                                                 & \multicolumn{1}{c|}{49,6403} & 1641,5006 \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{95,7895}                                                  & \multicolumn{1}{c|}{96,1268}                                                 & \multicolumn{1}{c|}{46,6667} & 186,5556 & \multicolumn{1}{c|}{70,0000}                                                  & \multicolumn{1}{c|}{73,3333}                                                 & \multicolumn{1}{c|}{55,5556} & 381,7689 & \multicolumn{1}{c|}{70,1031}                                                  & \multicolumn{1}{c|}{62,5000}                                                 & \multicolumn{1}{c|}{50,0000} & 1663,5517 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{97,5352}                                                  & \multicolumn{1}{c|}{95,7895}                                                 & \multicolumn{1}{c|}{50,0000} & 185,7704 & \multicolumn{1}{c|}{70,5556}                                                  & \multicolumn{1}{c|}{75,5556}                                                 & \multicolumn{1}{c|}{62,2222} & 383,1403 & \multicolumn{1}{c|}{66,1458}                                                  & \multicolumn{1}{c|}{61,8557}                                                 & \multicolumn{1}{c|}{49,2806} & 1571,5591 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{98,2456}                                                  & \multicolumn{1}{c|}{94,0141}                                                 & \multicolumn{1}{c|}{53,3333} & 188,5999 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{62,7778}                                                 & \multicolumn{1}{c|}{44,4444} & 390,1831 & \multicolumn{1}{c|}{70,1031}                                                  & \multicolumn{1}{c|}{63,5417}                                                 & \multicolumn{1}{c|}{51,0791} & 1562,8782 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{97,1831}                                                  & \multicolumn{1}{c|}{95,0877}                                                 & \multicolumn{1}{c|}{60,0000} & 185,9046 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{72,2222}                                                 & \multicolumn{1}{c|}{55,5556} & 384,5502 & \multicolumn{1}{c|}{69,2708}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & \multicolumn{1}{c|}{47,4820} & 1593,5539 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{97,8947}                                                  & \multicolumn{1}{c|}{94,7183}                                                 & \multicolumn{1}{c|}{46,6667} & 188,8094 & \multicolumn{1}{c|}{68,8889}                                                  & \multicolumn{1}{c|}{73,3333}                                                 & \multicolumn{1}{c|}{53,3333} & 374,4300 & \multicolumn{1}{c|}{70,6186}                                                  & \multicolumn{1}{c|}{66,6667}                                                 & \multicolumn{1}{c|}{53,5971} & 1536,6501 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{97,1831}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{53,3333} & 197,0699 & \multicolumn{1}{c|}{62,7778}                                                  & \multicolumn{1}{c|}{76,1111}                                                 & \multicolumn{1}{c|}{52,2222} & 379,0105 & \multicolumn{1}{c|}{70,8333}                                                  & \multicolumn{1}{c|}{64,9485}                                                 & \multicolumn{1}{c|}{50,0000} & 1532,1212 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{96,8421}                                                  & \multicolumn{1}{c|}{94,0141}                                                 & \multicolumn{1}{c|}{36,6667} & 210,1286 & \multicolumn{1}{c|}{73,3333}                                                  & \multicolumn{1}{c|}{59,4444}                                                 & \multicolumn{1}{c|}{55,5556} & 384,5273 & \multicolumn{1}{c|}{69,5876}                                                  & \multicolumn{1}{c|}{66,1458}                                                 & \multicolumn{1}{c|}{47,1223} & 1599,9626 \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{96,8310}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{50,0000} & 195,4052 & \multicolumn{1}{c|}{71,1111}                                                  & \multicolumn{1}{c|}{66,6667}                                                 & \multicolumn{1}{c|}{41,1111} & 391,5431 & \multicolumn{1}{c|}{71,8750}                                                  & \multicolumn{1}{c|}{64,9485}                                                 & \multicolumn{1}{c|}{48,5612} & 1600,2462 \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{97,5439}                                                  & \multicolumn{1}{c|}{96,4789}                                                 & \multicolumn{1}{c|}{53,3333} & 189,5962 & \multicolumn{1}{c|}{72,2222}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{48,8889} & 387,5911 & \multicolumn{1}{c|}{68,0412}                                                  & \multicolumn{1}{c|}{68,7500}                                                 & \multicolumn{1}{c|}{50,3597} & 1555,9471 \\ \hline
Media         & \multicolumn{1}{c|}{97,3992}                                                  & \multicolumn{1}{c|}{95,5001}                                                 & \multicolumn{1}{c|}{49,3333} & 191,8507 & \multicolumn{1}{c|}{68,3333}                                                  & \multicolumn{1}{c|}{69,7778}                                                 & \multicolumn{1}{c|}{52,0000} & 384,0480 & \multicolumn{1}{c|}{70,0537}                                                  & \multicolumn{1}{c|}{64,7192}                                                 & \multicolumn{1}{c|}{49,7122} & 1585,7971 \\ \hline
\end{tabular}}
\end{table}


\begin{table}[H]
\centering
\caption{Resultados BT}
\label{Resultados BT}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
              &                                                                               & Wdbc                                                                         &                              &           &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &           &                                                                               & Arrhythmia                                                                   &                              &           \\ \cline{2-13} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{99,6479}                                                  & \multicolumn{1}{c|}{94,0351}                                                 & \multicolumn{1}{c|}{53,3333} & 4482,1553 & \multicolumn{1}{c|}{71,1111}                                                  & \multicolumn{1}{c|}{67,7778}                                                 & \multicolumn{1}{c|}{67,7778} & 2792,4891 & \multicolumn{1}{c|}{77,6042}                                                  & \multicolumn{1}{c|}{64,9485}                                                 & \multicolumn{1}{c|}{50,3597} & 3547,2839 \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{97,8947}                                                  & \multicolumn{1}{c|}{96,4789}                                                 & \multicolumn{1}{c|}{40,0000} & 4525,3261 & \multicolumn{1}{c|}{77,7778}                                                  & \multicolumn{1}{c|}{71,1111}                                                 & \multicolumn{1}{c|}{50,0000} & 2811,5240 & \multicolumn{1}{c|}{72,1649}                                                  & \multicolumn{1}{c|}{61,4583}                                                 & \multicolumn{1}{c|}{54,3165} & 3689,6839 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{98,2394}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{40,0000} & 4414,8685 & \multicolumn{1}{c|}{77,7778}                                                  & \multicolumn{1}{c|}{75,5556}                                                 & \multicolumn{1}{c|}{51,1111} & 2816,0023 & \multicolumn{1}{c|}{69,7917}                                                  & \multicolumn{1}{c|}{62,8866}                                                 & \multicolumn{1}{c|}{56,8345} & 3547,7961 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{99,6491}                                                  & \multicolumn{1}{c|}{94,3662}                                                 & \multicolumn{1}{c|}{50,0000} & 4387,6807 & \multicolumn{1}{c|}{72,7778}                                                  & \multicolumn{1}{c|}{65,5556}                                                 & \multicolumn{1}{c|}{57,7778} & 2793,7549 & \multicolumn{1}{c|}{78,8660}                                                  & \multicolumn{1}{c|}{65,1042}                                                 & \multicolumn{1}{c|}{56,4748} & 3540,1120 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{98,9437}                                                  & \multicolumn{1}{c|}{94,3860}                                                 & \multicolumn{1}{c|}{56,6667} & 4435,5301 & \multicolumn{1}{c|}{75,5556}                                                  & \multicolumn{1}{c|}{72,7778}                                                 & \multicolumn{1}{c|}{58,8889} & 2804,0871 & \multicolumn{1}{c|}{75,0000}                                                  & \multicolumn{1}{c|}{65,9794}                                                 & \multicolumn{1}{c|}{60,0719} & 3567,9060 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{98,5965}                                                  & \multicolumn{1}{c|}{95,7746}                                                 & \multicolumn{1}{c|}{63,3333} & 4402,7661 & \multicolumn{1}{c|}{76,6667}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{63,3333} & 2784,8322 & \multicolumn{1}{c|}{75,7732}                                                  & \multicolumn{1}{c|}{67,7083}                                                 & \multicolumn{1}{c|}{56,4748} & 3516,0451 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{98,2394}                                                  & \multicolumn{1}{c|}{96,1404}                                                 & \multicolumn{1}{c|}{50,0000} & 4398,5370 & \multicolumn{1}{c|}{72,2222}                                                  & \multicolumn{1}{c|}{73,8889}                                                 & \multicolumn{1}{c|}{56,6667} & 2817,5327 & \multicolumn{1}{c|}{76,5625}                                                  & \multicolumn{1}{c|}{65,9794}                                                 & \multicolumn{1}{c|}{53,2374} & 3498,7134 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{98,5965}                                                  & \multicolumn{1}{c|}{96,4789}                                                 & \multicolumn{1}{c|}{63,3333} & 4400,6981 & \multicolumn{1}{c|}{81,1111}                                                  & \multicolumn{1}{c|}{62,2222}                                                 & \multicolumn{1}{c|}{61,1111} & 2776,8963 & \multicolumn{1}{c|}{72,1649}                                                  & \multicolumn{1}{c|}{67,1875}                                                 & \multicolumn{1}{c|}{51,0791} & 3538,5967 \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{98,9437}                                                  & \multicolumn{1}{c|}{96,4912}                                                 & \multicolumn{1}{c|}{50,0000} & 4389,9218 & \multicolumn{1}{c|}{79,4444}                                                  & \multicolumn{1}{c|}{68,8889}                                                 & \multicolumn{1}{c|}{62,2222} & 2802,4383 & \multicolumn{1}{c|}{74,4792}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & \multicolumn{1}{c|}{48,9209} & 3524,8939 \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{98,9474}                                                  & \multicolumn{1}{c|}{97,5352}                                                 & \multicolumn{1}{c|}{43,3333} & 4422,8620 & \multicolumn{1}{c|}{80,0000}                                                  & \multicolumn{1}{c|}{68,3333}                                                 & \multicolumn{1}{c|}{62,2222} & 2812,4940 & \multicolumn{1}{c|}{74,2268}                                                  & \multicolumn{1}{c|}{67,1875}                                                 & \multicolumn{1}{c|}{56,8345} & 3471,6671 \\ \hline
Media         & \multicolumn{1}{c|}{98,7698}                                                  & \multicolumn{1}{c|}{95,8529}                                                 & \multicolumn{1}{c|}{51,0000} & 4426,0345 & \multicolumn{1}{c|}{76,4444}                                                  & \multicolumn{1}{c|}{69,6667}                                                 & \multicolumn{1}{c|}{59,1111} & 2801,2051 & \multicolumn{1}{c|}{74,6633}                                                  & \multicolumn{1}{c|}{65,3904}                                                 & \multicolumn{1}{c|}{54,4604} & 3544,2698 \\ \hline
\end{tabular}}
\end{table}


\begin{table}[H]
\centering
\caption{Resultados BT Modificada}
\label{Resultados BT Modificada}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|ccc|ccc|ccc|}
\hline
              &                                                                                & Wdbc                                                                         &          &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &          &                                                                               & Arrhythmia                                                                   &          \\ \cline{2-10} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas \\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & T (s)    & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & T (s)    & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & T (s)    \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{99,2958}                                                   & \multicolumn{1}{c|}{94,3860}                                                 & 299,6978 & \multicolumn{1}{c|}{68,3333}                                                  & \multicolumn{1}{c|}{71,6667}                                                 & 365,3628 & \multicolumn{1}{c|}{75,0000}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & 477,8076 \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{97,5439}                                                   & \multicolumn{1}{c|}{97,8873}                                                 & 297,9895 & \multicolumn{1}{c|}{75,0000}                                                  & \multicolumn{1}{c|}{73,3333}                                                 & 245,4732 & \multicolumn{1}{c|}{70,1031}                                                  & \multicolumn{1}{c|}{62,5000}                                                 & 248,7286 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{97,5352}                                                   & \multicolumn{1}{c|}{97,1930}                                                 & 290,0433 & \multicolumn{1}{c|}{76,1111}                                                  & \multicolumn{1}{c|}{76,1111}                                                 & 375,3009 & \multicolumn{1}{c|}{67,1875}                                                  & \multicolumn{1}{c|}{63,9175}                                                 & 239,4865 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{98,9474}                                                   & \multicolumn{1}{c|}{95,4225}                                                 & 287,7853 & \multicolumn{1}{c|}{68,8889}                                                  & \multicolumn{1}{c|}{66,6667}                                                 & 235,9328 & \multicolumn{1}{c|}{70,6186}                                                  & \multicolumn{1}{c|}{64,0625}                                                 & 304,3770 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{98,5915}                                                   & \multicolumn{1}{c|}{94,7368}                                                 & 291,0515 & \multicolumn{1}{c|}{71,6667}                                                  & \multicolumn{1}{c|}{69,4444}                                                 & 232,1882 & \multicolumn{1}{c|}{69,2708}                                                  & \multicolumn{1}{c|}{63,4021}                                                 & 343,2357 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{98,2456}                                                   & \multicolumn{1}{c|}{96,1268}                                                 & 288,4757 & \multicolumn{1}{c|}{72,2222}                                                  & \multicolumn{1}{c|}{73,8889}                                                 & 237,2195 & \multicolumn{1}{c|}{70,6186}                                                  & \multicolumn{1}{c|}{67,1875}                                                 & 274,5305 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{97,8873}                                                   & \multicolumn{1}{c|}{97,5439}                                                 & 306,1516 & \multicolumn{1}{c|}{67,7778}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & 303,4044 & \multicolumn{1}{c|}{72,3958}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & 315,8250 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{98,2456}                                                   & \multicolumn{1}{c|}{95,4225}                                                 & 331,3072 & \multicolumn{1}{c|}{78,3333}                                                  & \multicolumn{1}{c|}{63,3333}                                                 & 349,9913 & \multicolumn{1}{c|}{68,5567}                                                  & \multicolumn{1}{c|}{65,1042}                                                 & 361,7439 \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{97,8873}                                                   & \multicolumn{1}{c|}{97,5439}                                                 & 337,8707 & \multicolumn{1}{c|}{75,5556}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & 358,2944 & \multicolumn{1}{c|}{70,8333}                                                  & \multicolumn{1}{c|}{64,4330}                                                 & 346,6857 \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{97,8947}                                                   & \multicolumn{1}{c|}{96,4789}                                                 & 312,0586 & \multicolumn{1}{c|}{78,8889}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & 397,2670 & \multicolumn{1}{c|}{65,4639}                                                  & \multicolumn{1}{c|}{65,6250}                                                 & 251,6011 \\ \hline
Media         & \multicolumn{1}{c|}{98,2074}                                                   & \multicolumn{1}{c|}{96,2742}                                                 & 304,2431 & \multicolumn{1}{c|}{73,2778}                                                  & \multicolumn{1}{c|}{70,5000}                                                 & 310,0434 & \multicolumn{1}{c|}{70,0048}                                                  & \multicolumn{1}{c|}{64,7160}                                                 & 316,4021 \\ \hline
\end{tabular}}
\end{table}


\begin{table}[H]
\centering
\caption{Resultados BTE}
\label{Resultados BTE}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
              &                                                                               & Wdbc                                                                         &                              &           &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &           &                                                                               & Arrhythmia                                                                   &                              &           \\ \cline{2-13} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)     \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{99,2958}                                                  & \multicolumn{1}{c|}{94,3860}                                                 & \multicolumn{1}{c|}{53,3333} & 4891,4500 & \multicolumn{1}{c|}{68,8889}                                                  & \multicolumn{1}{c|}{67,2222}                                                 & \multicolumn{1}{c|}{58,8888} & 3159,3639 & \multicolumn{1}{c|}{75,0000}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & \multicolumn{1}{c|}{52,1583} & 4398,2495 \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{97,5439}                                                  & \multicolumn{1}{c|}{96,8310}                                                 & \multicolumn{1}{c|}{20,0000} & 4855,4829 & \multicolumn{1}{c|}{75,5556}                                                  & \multicolumn{1}{c|}{72,2222}                                                 & \multicolumn{1}{c|}{46,6666} & 3183,8460 & \multicolumn{1}{c|}{69,0722}                                                  & \multicolumn{1}{c|}{63,0208}                                                 & \multicolumn{1}{c|}{51,7986} & 4597,1095 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{97,8873}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{30,0000} & 4932,8456 & \multicolumn{1}{c|}{76,6667}                                                  & \multicolumn{1}{c|}{76,6667}                                                 & \multicolumn{1}{c|}{46,6666} & 3251,4145 & \multicolumn{1}{c|}{70,8333}                                                  & \multicolumn{1}{c|}{60,8247}                                                 & \multicolumn{1}{c|}{44,2446} & 4412,4157 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{99,2982}                                                  & \multicolumn{1}{c|}{93,6620}                                                 & \multicolumn{1}{c|}{40,0000} & 4889,1054 & \multicolumn{1}{c|}{70,0000}                                                  & \multicolumn{1}{c|}{67,2222}                                                 & \multicolumn{1}{c|}{50,0000} & 3174,5812 & \multicolumn{1}{c|}{74,2268}                                                  & \multicolumn{1}{c|}{67,7083}                                                 & \multicolumn{1}{c|}{48,9209} & 4466,9630 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{98,9437}                                                  & \multicolumn{1}{c|}{96,1404}                                                 & \multicolumn{1}{c|}{33,3333} & 4874,8818 & \multicolumn{1}{c|}{72,7778}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{50,0000} & 3163,0693 & \multicolumn{1}{c|}{75,0000}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & \multicolumn{1}{c|}{52,5180} & 4320,1314 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{98,2456}                                                  & \multicolumn{1}{c|}{96,1268}                                                 & \multicolumn{1}{c|}{43,3333} & 4837,6802 & \multicolumn{1}{c|}{73,3333}                                                  & \multicolumn{1}{c|}{73,3333}                                                 & \multicolumn{1}{c|}{45,5555} & 3183,1151 & \multicolumn{1}{c|}{74,7423}                                                  & \multicolumn{1}{c|}{67,7083}                                                 & \multicolumn{1}{c|}{55,3957} & 4414,9784 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{97,8873}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{40,0000} & 4682,4851 & \multicolumn{1}{c|}{71,6667}                                                  & \multicolumn{1}{c|}{77,7778}                                                 & \multicolumn{1}{c|}{60,0000} & 3161,6695 & \multicolumn{1}{c|}{73,4375}                                                  & \multicolumn{1}{c|}{64,9485}                                                 & \multicolumn{1}{c|}{44,2446} & 4255,8287 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{98,2456}                                                  & \multicolumn{1}{c|}{97,8873}                                                 & \multicolumn{1}{c|}{56,6667} & 4468,9579 & \multicolumn{1}{c|}{81,1111}                                                  & \multicolumn{1}{c|}{62,7778}                                                 & \multicolumn{1}{c|}{62,2222} & 3134,6418 & \multicolumn{1}{c|}{72,6804}                                                  & \multicolumn{1}{c|}{66,6667}                                                 & \multicolumn{1}{c|}{51,0791} & 4119,7669 \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{98,2394}                                                  & \multicolumn{1}{c|}{94,7368}                                                 & \multicolumn{1}{c|}{53,3333} & 4478,3304 & \multicolumn{1}{c|}{76,6667}                                                  & \multicolumn{1}{c|}{67,7778}                                                 & \multicolumn{1}{c|}{50,0000} & 3182,7247 & \multicolumn{1}{c|}{70,8333}                                                  & \multicolumn{1}{c|}{64,4330}                                                 & \multicolumn{1}{c|}{48,5612} & 4185,7275 \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{98,5965}                                                  & \multicolumn{1}{c|}{97,1831}                                                 & \multicolumn{1}{c|}{43,3333} & 4373,2153 & \multicolumn{1}{c|}{80,0000}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{58,8889} & 3164,9642 & \multicolumn{1}{c|}{69,0722}                                                  & \multicolumn{1}{c|}{65,1042}                                                 & \multicolumn{1}{c|}{49,2806} & 4117,4000 \\ \hline
Media         & \multicolumn{1}{c|}{98,4183}                                                  & \multicolumn{1}{c|}{96,0638}                                                 & \multicolumn{1}{c|}{41,3333} & 4728,4435 & \multicolumn{1}{c|}{74,6667}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{52,8889} & 3175,9390 & \multicolumn{1}{c|}{72,4898}                                                  & \multicolumn{1}{c|}{65,1342}                                                 & \multicolumn{1}{c|}{49,8201} & 4328,8571 \\ \hline
\end{tabular}}
\end{table}

\begin{table}[H]
\centering
\caption{Resultados 3NN}
\label{Resultados 3NN}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
              &                                                                               & Wdbc                                                                         &                              &        &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &        &                                                                               & Arrhythmia                                                                   &                              &        \\ \cline{2-13} 
              & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)  & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)  & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T (s)  \\ \hline
Partición 1-1 & \multicolumn{1}{c|}{98,5915}                                                  & \multicolumn{1}{c|}{95,7895}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{60,0000}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{65,6250}                                                  & \multicolumn{1}{c|}{65,4639}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 1-2 & \multicolumn{1}{c|}{95,4386}                                                  & \multicolumn{1}{c|}{97,8873}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{68,3333}                                                  & \multicolumn{1}{c|}{76,1111}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{62,8866}                                                  & \multicolumn{1}{c|}{60,9375}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 2-1 & \multicolumn{1}{c|}{95,0704}                                                  & \multicolumn{1}{c|}{97,8947}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{76,1111}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{65,1042}                                                  & \multicolumn{1}{c|}{62,3711}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 2-2 & \multicolumn{1}{c|}{95,7895}                                                  & \multicolumn{1}{c|}{95,4225}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{62,2222}                                                  & \multicolumn{1}{c|}{65,0000}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{64,4330}                                                  & \multicolumn{1}{c|}{64,5833}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 3-1 & \multicolumn{1}{c|}{96,1268}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{64,4444}                                                  & \multicolumn{1}{c|}{71,1111}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{65,1042}                                                  & \multicolumn{1}{c|}{63,4021}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 3-2 & \multicolumn{1}{c|}{95,4386}                                                  & \multicolumn{1}{c|}{96,4789}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{65,0000}                                                  & \multicolumn{1}{c|}{76,1111}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{65,4639}                                                  & \multicolumn{1}{c|}{68,2292}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 4-1 & \multicolumn{1}{c|}{95,7746}                                                  & \multicolumn{1}{c|}{96,8421}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{60,0000}                                                  & \multicolumn{1}{c|}{75,0000}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{64,5833}                                                  & \multicolumn{1}{c|}{64,4330}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 4-2 & \multicolumn{1}{c|}{96,1404}                                                  & \multicolumn{1}{c|}{95,4225}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{71,6667}                                                  & \multicolumn{1}{c|}{64,4444}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{63,4021}                                                  & \multicolumn{1}{c|}{65,6250}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 5-1 & \multicolumn{1}{c|}{94,7183}                                                  & \multicolumn{1}{c|}{97,1930}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{67,7778}                                                  & \multicolumn{1}{c|}{65,5556}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{64,5833}                                                  & \multicolumn{1}{c|}{67,0103}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Partición 5-2 & \multicolumn{1}{c|}{95,7895}                                                  & \multicolumn{1}{c|}{97,5352}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{66,6667}                                                  & \multicolumn{1}{c|}{70,0000}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{64,4330}                                                  & \multicolumn{1}{c|}{66,1458}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
Media         & \multicolumn{1}{c|}{95,8878}                                                  & \multicolumn{1}{c|}{96,7308}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{65,2778}                                                  & \multicolumn{1}{c|}{70,9444}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 & \multicolumn{1}{c|}{64,5619}                                                  & \multicolumn{1}{c|}{64,8201}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000 \\ \hline
\end{tabular}}
\end{table}

\subsection{Análisis de los resultados}

A continuación vemos la tabla comparativa, que tiene la última fila (las medias) de todas las tablas anteriores:

\begin{table}[H]
\centering
\caption{Comparativa}
\label{Comparativa}
\resizebox{\textwidth}{!}{\begin{tabular}{|c|cccc|cccc|cccc|}
\hline
             &                                                                               & Wdbc                                                                         &                              &           &                                                                               & \begin{tabular}[c]{@{}c@{}}Movement\\ Libras\end{tabular}                    &                              &           &                                                                               & Arrhythmia                                                                   &                              &           \\ \cline{2-13} 
             & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T         & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T         & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ train\end{tabular}} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}\%\_clas\\ test\end{tabular}} & \multicolumn{1}{c|}{\%\_red} & T         \\ \hline
3-NN         & \multicolumn{1}{c|}{95,8878}                                                  & \multicolumn{1}{c|}{96,7308}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000    & \multicolumn{1}{c|}{65,2778}                                                  & \multicolumn{1}{c|}{70,9444}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000    & \multicolumn{1}{c|}{64,5619}                                                  & \multicolumn{1}{c|}{64,8201}                                                 & \multicolumn{1}{c|}{0,0000}  & 0,0000    \\ \hline
SFS          & \multicolumn{1}{c|}{97,1181}                                                  & \multicolumn{1}{c|}{94,9025}                                                 & \multicolumn{1}{c|}{85,3333} & 43,0372   & \multicolumn{1}{c|}{71,8333}                                                  & \multicolumn{1}{c|}{67,5000}                                                 & \multicolumn{1}{c|}{90,8889} & 145,8296  & \multicolumn{1}{c|}{80,9284}                                                  & \multicolumn{1}{c|}{71,7698}                                                 & \multicolumn{1}{c|}{97,2302} & 459,4296  \\ \hline
BL           & \multicolumn{1}{c|}{96,2392}                                                  & \multicolumn{1}{c|}{95,4652}                                                 & \multicolumn{1}{c|}{48,0000} & 7,2665    & \multicolumn{1}{c|}{67,3333}                                                  & \multicolumn{1}{c|}{69,3889}                                                 & \multicolumn{1}{c|}{52,2222} & 9,5104    & \multicolumn{1}{c|}{66,5287}                                                  & \multicolumn{1}{c|}{63,9417}                                                 & \multicolumn{1}{c|}{48,8849} & 29,7173   \\ \hline
ES           & \multicolumn{1}{c|}{97,3992}                                                  & \multicolumn{1}{c|}{95,5001}                                                 & \multicolumn{1}{c|}{49,3333} & 191,8507  & \multicolumn{1}{c|}{68,3333}                                                  & \multicolumn{1}{c|}{69,7778}                                                 & \multicolumn{1}{c|}{52,0000} & 384,0480  & \multicolumn{1}{c|}{70,0537}                                                  & \multicolumn{1}{c|}{64,7192}                                                 & \multicolumn{1}{c|}{49,7122} & 1585,7971 \\ \hline
BT basica    & \multicolumn{1}{c|}{98,7698}                                                  & \multicolumn{1}{c|}{95,8529}                                                 & \multicolumn{1}{c|}{51,0000} & 4426,0345 & \multicolumn{1}{c|}{76,4444}                                                  & \multicolumn{1}{c|}{69,6667}                                                 & \multicolumn{1}{c|}{59,1111} & 2801,2051 & \multicolumn{1}{c|}{74,6633}                                                  & \multicolumn{1}{c|}{65,3904}                                                 & \multicolumn{1}{c|}{54,4604} & 3544,2698 \\ \hline
BT extendida & \multicolumn{1}{c|}{98,4183}                                                  & \multicolumn{1}{c|}{96,0638}                                                 & \multicolumn{1}{c|}{41,3333} & 4728,4435 & \multicolumn{1}{c|}{74,6667}                                                  & \multicolumn{1}{c|}{70,5556}                                                 & \multicolumn{1}{c|}{52,8889} & 3175,9390 & \multicolumn{1}{c|}{72,4898}                                                  & \multicolumn{1}{c|}{65,1342}                                                 & \multicolumn{1}{c|}{49,8201} & 4328,8571 \\ \hline
\end{tabular}}
\end{table}

Como vemos, el algoritmo que más tarda es la búsqueda tabú extendida, puesto que es el que más carga computacional tiene. Entre ambas búsquedas tabú se diferencian relativamente poco en tiempo (teniendo en cuenta que tardan mucho, sin embargo entre una y otra hay en arritmia por ejemplo 800 segundos de diferencia, que sí es una diferencia considerable) porque en lo que se diferencian es en que la simple sólo maneja la lista tabú y la extendida además de manejarla y cambiarla bastantes veces maneja también la memoria a largo plazo (la lista de frecuencias). Sin embargo si miramos las tasas esta diferencia en tiempo podría no ser asumible ya que prácticamente no hay diferencia considerable entre las tasas (aunque también es cierto que habrá problemas en los que esta diferencia, por poca que sea, sí será considerable y será mejor esperar más tiempo). De hecho para el conjunto de entrenamiento sólo hay mejora en la base de datos Wdbc, mientras que en las demás hay incluso una peora y en los conjuntos de test sólo hay como mucho un punto de mejora.\\

El problema de las dos búsquedas tabú es que se van acercando a los óptimos muy lentamente, que es algo fácil de ver al ir mostrando las tasas que va obteniendo en todas las iteraciones, y además no tienen condición de parada adicional, de forma que sólo paran cuando se llega exactamente a 15000 evaluaciones, no como por ejemplo el enfriamiento simulado, que tiene como condición de parada adicional no haber obtenidos éxitos en un enfriamiento completo, lo que hace que la mayoría de las veces no se completen las 15000 evaluaciones, pare antes y por lo tanto tarde bastante menos (alrededor de 3 minutos frente a 74 en wdbc y alrededor de 26 minutos frente a 59 en arritmia) dando unas tasas de acierto bastante buenas si comparamos con la búsqueda tabú simple, por ejemplo: la búsqueda tabú mejora como mucho 1 punto en el conjunto de test y 6 en el de entrenamiento si miramos todas las bases de datos. Es decir, a mi parecer merece más la pena utilizar un buen enfriamiento simulado quizás ya entrando también en modificarle lo parámetros para intentar obtener mejores tasas que utilizar la búsqueda tabú, ya que tarda bastante menos y los resultados son casi igual de buenos que en la búsqueda tabú.\\

Para intentar arreglar que no llegue al número de evaluaciones la búsqueda tabú básica si no hay suficiente cambio (en concreto un cambio del 3\% en 600 evaluaciones) es para lo que he hecho la modificación de la búsqueda tabú básica. Como vemos en la tabla en el apartado anterior conseguimos tiempos que se acercan al enfriamiento simulado (aunque siguen siendo un poco mayores) y por tanto son mucho menores que los de las tabú. Aunque en la tasa de entrenamiento se queda por debajo esta modificación (lo que significa que la búsqueda tabú tiene cambios muy lentos) en las dos primeras bases de datos la tasa en el conjunto de test es ligeramente mayor.\\

Si entramos ahora en comparar tanto las búsquedas tabú como los enfriamientos simulados con el algoritmo greedy SFS, en las bases de datos wdbc y movement libras SFS se queda un poco peor (aunque no mucho, en torno a un 1-3\%) mientras que en la base de datos de arritmia el algoritmo SFS es el mejor de todos con más de un 5\% de diferencia. En cuanto a tasas de reducción es normal que todos sean peores con respecto al greedy SFS puesto que los demás empiezan todos con soluciones iniciales aleatorias y si una característica no aporta nada y no da peor resultado tenerla escogida frente a no tenerla el resto de algoritmos no la eliminan, mientras que el SFS va escogiendo en orden aquellas características que más tasa de acierto aportan, con lo que no escoge ninguna de sobra. Es por esto que también podemos pensar que si en wdbc y en movement libras las tasas son mejores con tabú y enfriamiento que con SFS es porque importa en qué orden se elijan las características en el greedy.\\

Queda sólo por comentar la búsqueda local. Es el más rápido de todos pero a costa de quedarse en el primer óptimo local que encuentra y por tanto tiene menos tasa de acierto que el enfriamiento y la búsqueda tabú, y peor tasa en entrenamiento pero algo mejor en test si comparamos con el SFS (excepto en arritmia). Éste es el algoritmo que escogeríamos si necesitáramos soluciones rápidas y buenas, pero no necesitáramos las óptimas.\\

Con respecto al 3NN al principio parece raro que tenga menos tasa de acierto que los demás puesto que está considerando todas las características. Sin embargo, no todas las características tienen que ser buenas definiendo una clase, además de que puede haber ruidos que hayan afectado más a unas que a otras. Es por esto que es normal que tenga un poco menos de acierto y que no haya mucha diferencia entre las tasas de acierto para entrenamiento y para test y la de entrenamiento no sea mejor que la de test, como suele ocurrir (ya que lo que optimizamos es la tasa de acierto justo en el entrenamiento), puesto que en este algoritmo en realidad las dos serían de test ya que no estamos utilizando ninguna de las dos para aprender.\\



\section{Bibliografía}
\begin{enumerate}
\item Sklearn (scikit) para 3NN \href{http://scikit-learn.org/stable/modules/neighbors.html}{aquí}
\item Sklearn (scikit) para leave one out \href{http://scikit-learn.org/stable/modules/generated/sklearn.cross_validation.LeaveOneOut.html}{aquí}
\item Scipy para leer ficheros \href{arff http://docs.scipy.org/doc/scipy/reference/generated/scipy.io.arff.loadarff.html}{aquí}
\item Documentación de numpy \href{http://docs.scipy.org/doc/numpy/user/index.html}{aquí}
\end{enumerate}

\end{document}